{"version":3,"sources":["components/Auth.js","components/UserIcon.js","components/Title.js","components/Dropdown.js","components/Navbar.js","api.js","components/Votes.js","components/Article.js","components/ArticleList.js","components/ContentOptions.js","components/Home.js","components/NoMatch.js","components/Comment.js","components/NewComment.js","components/ArticlePage.js","components/NewArticle.js","App.js","index.js"],"names":["Auth","state","username","notFound","handleChange","event","target","value","_this","setState","handleSubmit","preventDefault","login","props","then","navigate","catch","this","user","react_default","a","createElement","className","name","onClick","logout","onSubmit","onChange","type","Component","UserIcon","_ref","es","to","alt","src","Title","Dropdown","active","toggleActive","_this$props","handler","title","selected","field","trayOptions","concat","map","option","key","Navbar","navOptions","components_Title","components_Dropdown","components_UserIcon","request","axios","create","baseURL","getArticles","params","get","data","articles","patchVotes","voted","article_id","comment_id","body","inc_votes","path","patch","_ref3","article","comment","getCommentsByArticleId","_ref4","comments","getUserByUsername","_ref5","getTopics","_ref7","topics","postArticle","topic","post","_ref8","Vote","handleVote","vote","update","_this2","votes","react","Article","full","author","Moment","created_at","fromNow","Votes","ArticleList","components_Article","ContentOptions","sort_by","order","sortOptions","orderOptions","getOptionName","slug","options","reduce","Home","page","hasAllArticles","fetchArticles","_this$state","p","newArticles","Object","toConsumableArray","isLoading","err","response","status","_ref2","handleScroll","throttle","_event$target","clientHeight","scrollTop","scrollHeight","updateContentOptions","prev","defineProperty","addScrollEventListener","prevProps","prevState","_this$state2","pageChange","sortChange","orderChange","document","querySelector","addEventListener","_this$state3","components_ContentOptions","components_ArticleList","NoMatch","Comment","NewArticle","console","log","placeholder","ArticlePage","hasError","hasAllComments","fetchComments","id","newComments","getArticleById","NewComment","components_Comment","Body","Topic","defaultValue","disabled","hidden","App","navRef","/","/login","/article/new","handleSave","localStorage","setItem","JSON","stringify","setUser","handleNavbar","retrievedState","getItem","parse","components_Navbar","window","location","pathname","components_Auth","components_Home","components_ArticlePage","components_NewArticle","components_NoMatch","default","ReactDOM","render","src_App","getElementById"],"mappings":"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","file":"static/js/main.0be1108c.chunk.js","sourcesContent":["import React, { Component } from \"react\";\nimport { navigate } from \"@reach/router\";\nimport \"../styles/Auth.css\";\n\nclass Auth extends Component {\n  state = {\n    username: \"\",\n    notFound: false\n  };\n\n  handleChange = event => {\n    const username = event.target.value;\n    this.setState({ username, notFound: false });\n  };\n\n  handleSubmit = event => {\n    event.preventDefault();\n    const { login } = this.props;\n    const { username } = this.state;\n    login(username)\n      .then(() => navigate(\"/\"))\n      .catch(() => this.setState({ notFound: true }));\n  };\n\n  render() {\n    if (this.props.user) {\n      return (\n        <div className=\"Auth\">\n          <p>Hi, {this.props.user.name}</p>\n          <button onClick={this.props.logout}>Log out</button>\n        </div>\n      );\n    }\n    return (\n      <div className=\"Auth\">\n        <form onSubmit={this.handleSubmit}>\n          <label>Username: </label>\n          <input onChange={this.handleChange} value={this.state.username} />\n          <br />\n          <button type=\"submit\">Log in</button>\n        </form>\n        {this.state.notFound && (\n          <span>\n            <br />\n            Sorry, we couldn't find that username.\n          </span>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default Auth;\n","import React from \"react\";\nimport { Link } from \"@reach/router\";\nimport \"../styles/UserIcon.css\";\n\nconst UserIcon = ({ user }) => {\n  return (\n    <div className=\"UserIcon\">\n      <Link to=\"/login\">\n        <span className=\"userName\">{user ? user.username : \"Login\"}</span>\n      </Link>\n      <Link to=\"/login\">\n        <img\n          className=\"userAvatar\"\n          alt={user ? user.username : \"login\"}\n          src=\"https://pbs.twimg.com/profile_images/610487054569336832/yrUSzk7S.jpg\"\n        />\n      </Link>\n    </div>\n  );\n};\n\nexport default UserIcon;\n","import React from \"react\";\nimport { Link } from \"@reach/router\";\n\nconst Title = () => {\n  return (\n    <div className=\"Title\">\n      <Link to=\"/\">\n        <h2>NC</h2>\n      </Link>\n    </div>\n  );\n};\n\nexport default Title;\n","import React, { Component } from \"react\";\nimport \"../styles/Dropdown.css\";\n\nclass Dropdown extends Component {\n  state = {\n    active: false\n  };\n\n  toggleActive = () => {\n    const { active } = this.state;\n    this.setState({ active: !active });\n  };\n\n  render() {\n    const { active } = this.state;\n    const { handler, title, selected, field, trayOptions } = this.props;\n    return (\n      <div className=\"Dropdown noselect\" onClick={this.toggleActive}>\n        <p>{`${title}${selected}`}</p>\n\n        <ul className={`Dropdown-List-${active ? \"Active\" : \"Inactive\"}`}>\n          {trayOptions.map(option => (\n            <li\n              className=\"Dropdown-Li\"\n              key={option.value}\n              onClick={() =>\n                handler({ field, value: option.value, name: option.name })\n              }\n            >\n              {option.name}\n            </li>\n          ))}\n        </ul>\n      </div>\n    );\n  }\n}\n\nexport default Dropdown;\n","import React from \"react\";\nimport \"../styles/Navbar.css\";\nimport UserIcon from \"./UserIcon\";\nimport Title from \"./Title\";\nimport Dropdown from \"./Dropdown\";\n\nconst Navbar = ({ user, navOptions, handler, selected }) => {\n  return (\n    <nav className=\"Navbar\">\n      <Title />\n      <Dropdown\n        trayOptions={navOptions}\n        selected={selected}\n        title={\"\"}\n        className=\"dropDown\"\n        handler={handler}\n      />\n      <UserIcon user={user} />\n    </nav>\n  );\n};\n\nexport default Navbar;\n","import axios from \"axios\";\n\nconst request = axios.create({\n  baseURL: \"https://be2-nc-news.herokuapp.com/api/\"\n});\n\nexport const getArticles = params => {\n  const path = `articles`;\n  return request.get(path, { params }).then(({ data }) => data.articles);\n};\n\nexport const getArticleById = article_id => {\n  const path = `articles/` + article_id;\n  return request.get(path).then(({ data }) => data.article);\n};\n\nexport const patchVotes = (voted, article_id, comment_id) => {\n  const body = { inc_votes: voted };\n  const path = `articles/${article_id}${\n    comment_id ? `/comments/${comment_id}` : \"\"\n  }`;\n  return request\n    .patch(path, body)\n    .then(({ data }) => (data.article ? data.article : data.comment));\n};\n\nexport const getCommentsByArticleId = (article_id, params) => {\n  const path = `articles/${article_id}/comments`;\n  return request.get(path, { params }).then(({ data }) => data.comments);\n};\n\nexport const getUserByUsername = username => {\n  const path = `users/${username}`;\n  return request.get(path).then(({ data }) => data.user);\n};\n\nexport const getUsers = () => {\n  const path = `users`;\n  return request.get(path).then(({ data }) => data.users);\n};\n\nexport const getTopics = () => {\n  const path = \"topics\";\n  return request.get(path).then(({ data }) => data.topics);\n};\n\nexport const postArticle = (topic, title, body, username) => {\n  const path = `topics/${topic}/articles`;\n  return request\n    .post(path, { title, body, username })\n    .then(({ data }) => data.article);\n};\n\nexport const postComment = article_id => {\n  const path = `articles/${article_id}/comments`;\n  return request.post(path);\n};\n","import React, { Component, Fragment } from \"react\";\nimport { patchVotes } from \"../api\";\nimport \"../css/foundation-icons.css\";\n\nclass Vote extends Component {\n  //save this to localstorage\n  state = {\n    voted: 0\n  };\n\n  handleVote = vote => {\n    let { voted } = this.state;\n    const { article_id, comment_id } = this.props;\n    let update = 0;\n    if (voted === vote) {\n      voted = 0;\n      update = -vote;\n    } else if (voted === -vote) {\n      voted = vote;\n      update = vote * 2;\n    } else {\n      voted = vote;\n      update = vote;\n    }\n    this.setState({ voted });\n    patchVotes(update, article_id, comment_id);\n  };\n\n  render() {\n    const { votes } = this.props;\n    const { voted } = this.state;\n    return (\n      <Fragment>\n        <span\n          className={`up noselect ${voted > 0 ? \"Voted\" : \"\"}`}\n          onClick={() => this.handleVote(1)}\n        >\n          <i className=\"fi-arrow-up\" />{\" \"}\n        </span>\n\n        <span className=\"count noselect\">{votes + voted}</span>\n\n        <span\n          className={`down noselect ${voted < 0 ? \"Voted\" : \"\"}`}\n          onClick={() => this.handleVote(-1)}\n        >\n          <i className=\"fi-arrow-down\" />{\" \"}\n        </span>\n      </Fragment>\n    );\n  }\n}\n\nexport default Vote;\n","import React from \"react\";\nimport { Link } from \"@reach/router\";\nimport \"../styles/Article.css\";\nimport Moment from \"moment\";\nimport Votes from \"./Votes\";\n\nconst Article = ({ article, full }) => {\n  return (\n    <div className=\"Article\">\n      <div className=\"avatar\">\n        <img\n          alt={article.author}\n          src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/e/e0/SNice.svg/220px-SNice.svg.png\"\n        />\n      </div>\n      <div className=\"author\">\n        <span>\n          {article.author} in {article.topic}\n          <br />\n          {Moment(article.created_at, \"YYYY-MM-DD-Thh:mm:ss\").fromNow()}\n        </span>\n      </div>\n      <div className=\"topic\">\n        <span />\n      </div>\n      <div className=\"title\">\n        {full ? (\n          <span>{article.title}</span>\n        ) : (\n          <Link to={`/articles/${article.article_id}`}>{article.title}</Link>\n        )}\n      </div>\n      <div className=\"Votes\">\n        <Votes votes={article.votes} article_id={article.article_id} />\n      </div>\n      {full && (\n        <div className=\"Body\">\n          <p>{article.body}</p>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Article;\n","import React from \"react\";\nimport Article from \"./Article\";\nimport \"../styles/ArticleList.css\";\n\nconst ArticleList = ({ articles }) => {\n  return (\n    <ul>\n      {articles.map(article => {\n        return (\n          <li key={article.article_id}>\n            <Article article={article} />\n          </li>\n        );\n      })}\n    </ul>\n  );\n};\n\nexport default ArticleList;\n","import React from \"react\";\nimport Dropdown from \"./Dropdown\";\nimport \"../styles/ContentOptions.css\";\n\nconst ContentOptions = ({\n  handler,\n  sort_by,\n  order,\n  sortOptions,\n  orderOptions\n}) => {\n  const getOptionName = (slug, options) => {\n    return options.reduce((name, option) => {\n      return option.value === slug ? option.name : name;\n    }, \"\");\n  };\n\n  return (\n    <div className=\"ContentOptions\">\n      <Dropdown\n        handler={handler}\n        trayOptions={sortOptions}\n        title=\"Sort By: \"\n        selected={getOptionName(sort_by, sortOptions)}\n        field=\"sort_by\"\n      />\n      <Dropdown\n        handler={handler}\n        trayOptions={orderOptions}\n        title=\"Order: \"\n        selected={getOptionName(order, orderOptions)}\n        field=\"order\"\n      />\n    </div>\n  );\n};\n\nexport default ContentOptions;\n","import React, { Component } from \"react\";\nimport ArticleList from \"./ArticleList\";\nimport { getArticles } from \"../api\";\nimport { throttle } from \"lodash\";\nimport ContentOptions from \"./ContentOptions\";\n\nclass Home extends Component {\n  state = {\n    articles: [],\n    sort_by: \"created_at\",\n    order: \"desc\",\n    page: 1,\n    topic: null,\n    hasAllArticles: false\n  };\n\n  sortOptions = [\n    { value: \"title\", name: \"Title\" },\n    { value: \"articles.username\", name: \"User\" },\n    { value: \"topic\", name: \"Topic\" },\n    { value: \"created_at\", name: \"Date\" },\n    { value: \"votes\", name: \"Votes\" },\n    { value: \"comment_count\", name: \"Comments\" }\n  ];\n\n  orderOptions = [\n    { value: \"asc\", name: \"Ascending\" },\n    { value: \"desc\", name: \"Descending\" }\n  ];\n\n  componentDidMount() {\n    const { sort_by } = this.state;\n    getArticles(sort_by).then(articles => this.setState({ articles }));\n    this.addScrollEventListener();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const { page, hasAllArticles, sort_by, order } = this.state;\n    const topicChange = false; //no topic functionality yet\n    const pageChange = prevState.page !== page;\n    const sortChange = prevState.sort_by !== sort_by;\n    const orderChange = prevState.order !== order;\n\n    if (\n      ((topicChange || pageChange) && !hasAllArticles) ||\n      sortChange ||\n      orderChange\n    ) {\n      this.fetchArticles();\n    }\n  }\n\n  fetchArticles = () => {\n    const { sort_by, order, page } = this.state;\n\n    getArticles({ sort_by, order, p: page })\n      .then(newArticles => {\n        this.setState(({ page, articles }) => ({\n          articles: page === 1 ? newArticles : [...articles, ...newArticles],\n          isLoading: false\n        }));\n      })\n      .catch(err => {\n        if (err.response.status === 404) {\n          this.setState(({ page }) => {\n            return { hasAllArticles: true, page: page - 1 };\n          });\n        }\n      });\n  };\n\n  addScrollEventListener() {\n    document\n      .querySelector(\".ArticleList\")\n      .addEventListener(\"scroll\", this.handleScroll);\n  }\n\n  handleScroll = throttle(event => {\n    const { clientHeight, scrollTop, scrollHeight } = event.target;\n    const distanceFromBottom = scrollHeight - (clientHeight + scrollTop);\n    if (distanceFromBottom < 150) {\n      this.setState(({ page }) => ({ page: page + 1 }));\n    }\n  }, 1000);\n\n  updateContentOptions = ({ field, value }) => {\n    this.setState(prev => {\n      let page = prev.page;\n      let hasAllArticles = prev.hasAllArticles;\n      if (prev[field] !== value) {\n        page = 1;\n        hasAllArticles = false;\n      }\n      return { [field]: value, page, hasAllArticles };\n    });\n  };\n\n  render() {\n    const { articles, sort_by, order } = this.state;\n    return (\n      <div className=\"ArticleList\">\n        <ContentOptions\n          handler={this.updateContentOptions}\n          sort_by={sort_by}\n          order={order}\n          sortOptions={this.sortOptions}\n          orderOptions={this.orderOptions}\n        />\n        <ArticleList articles={articles} />\n      </div>\n    );\n  }\n}\n\nexport default Home;\n","import React from \"react\";\nimport \"../styles/NoMatch.css\";\n\nconst NoMatch = () => {\n  return (\n    <div className=\"NoMatch\">\n      <p>Page not found!</p>\n    </div>\n  );\n};\n\nexport default NoMatch;\n","import React from \"react\";\nimport \"../styles/Comment.css\";\nimport Moment from \"moment\";\nimport Votes from \"./Votes\";\n\nconst Comment = ({ comment, article_id }) => {\n  return (\n    <div className=\"Comment\">\n      <div className=\"avatar\">\n        <img\n          alt={comment.author}\n          src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/e/e0/SNice.svg/220px-SNice.svg.png\"\n        />\n      </div>\n      <div className=\"author\">\n        <span>\n          {comment.author}\n          <br />\n          {Moment(comment.created_at, \"YYYY-MM-DD-Thh:mm:ss\").fromNow()}\n        </span>\n      </div>\n      <div className=\"body\">\n        <p>{comment.body}</p>\n      </div>\n      <div className=\"Votes\">\n        <Votes\n          votes={comment.votes}\n          article_id={article_id}\n          comment_id={comment.comment_id}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default Comment;\n","import React, { Component } from \"react\";\nimport { Link, navigate } from \"@reach/router\";\nimport \"../styles/NewArticle.css\";\nimport { getTopics, postArticle } from \"../api\";\n\nclass NewArticle extends Component {\n  state = {\n    topics: null,\n    isLoading: true,\n    body: \"\"\n  };\n\n  componentDidMount() {\n    getTopics().then(topics => this.setState({ topics, isLoading: false }));\n  }\n\n  handleSubmit = event => {\n    event.preventDefault();\n    const { topic, title, body } = this.state;\n    const { user } = this.props;\n    console.log(this.state);\n    postArticle(topic, title, body, user.username).then(article => {\n      console.log(\"navigating away!\");\n      navigate(\"/articles/\" + article.article_id);\n    });\n  };\n\n  handleChange = event => {\n    this.setState({ body: event.target.value });\n  };\n\n  render() {\n    const { user } = this.props;\n    const { isLoading } = this.state;\n    if (!user) {\n      return (\n        <div className=\"NewArticle\">\n          <Link to=\"/login\">Please login first.</Link>\n        </div>\n      );\n    }\n    if (isLoading) {\n      return <p>Loading...</p>;\n    }\n    return (\n      <div className=\"NewArticle\">\n        <form className=\"articleForm\" onSubmit={this.handleSubmit}>\n          <textarea\n            className=\"articleTextarea\"\n            placeholder=\"Say something!\"\n            onChange={this.handleChange}\n            value={this.state.body}\n          />\n          <br />\n          <input type=\"submit\" value=\"Comment\" />\n        </form>\n      </div>\n    );\n  }\n}\n\nexport default NewArticle;\n","import React, { Component } from \"react\";\nimport Article from \"./Article\";\nimport Comment from \"./Comment\";\nimport NewComment from \"./NewComment\";\nimport { getArticleById, getCommentsByArticleId } from \"../api\";\nimport ContentOptions from \"./ContentOptions\";\nimport { throttle } from \"lodash\";\nimport \"../styles/ArticlePage.css\";\n\nclass ArticlePage extends Component {\n  state = {\n    article: null,\n    comments: null,\n    isLoading: true,\n    hasError: false,\n    sort_by: \"created_at\",\n    order: \"desc\",\n    page: 1,\n    hasAllComments: false\n  };\n\n  sortOptions = [\n    { value: \"created_at\", name: \"Date\" },\n    { value: \"votes\", name: \"Votes\" },\n    { value: \"comments.username\", name: \"User\" }\n  ];\n\n  orderOptions = [\n    { value: \"asc\", name: \"Ascending\" },\n    { value: \"desc\", name: \"Descending\" }\n  ];\n\n  componentDidMount() {\n    const { id } = this.props;\n    if (!this.state.article) {\n      getArticleById(id)\n        .then(article => {\n          this.setState({ article });\n        })\n        .then(() => getCommentsByArticleId(id))\n        .then(comments => {\n          this.setState({ comments, isLoading: false });\n        })\n        .catch(err => this.setState({ hasError: true }));\n    }\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const { page, hasAllComments, sort_by, order, isLoading } = this.state;\n    const pageChange = prevState.page !== page;\n    const sortChange = prevState.sort_by !== sort_by;\n    const orderChange = prevState.order !== order;\n\n    if ((pageChange && !hasAllComments) || sortChange || orderChange) {\n      this.fetchComments();\n    }\n\n    if (prevState.isLoading === true && isLoading === false) {\n      this.addScrollEventListener();\n    }\n  }\n\n  fetchComments = () => {\n    const { sort_by, order, page } = this.state;\n    const { id } = this.props;\n    getCommentsByArticleId(id, { sort_by, order, p: page })\n      .then(newComments => {\n        this.setState(({ page, comments }) => ({\n          comments: page === 1 ? newComments : [...comments, ...newComments],\n          isLoading: false\n        }));\n      })\n      .catch(err => {\n        if (err.response.status === 404) {\n          this.setState(({ page }) => {\n            return { hasAllComments: true, page: page - 1 };\n          });\n        }\n      });\n  };\n\n  addScrollEventListener() {\n    document\n      .querySelector(\".ArticlePage\")\n      .addEventListener(\"scroll\", this.handleScroll);\n  }\n\n  handleScroll = throttle(event => {\n    const { clientHeight, scrollTop, scrollHeight } = event.target;\n    const distanceFromBottom = scrollHeight - (clientHeight + scrollTop);\n    if (distanceFromBottom < 150) {\n      this.setState(({ page }) => ({ page: ++page }));\n    }\n  }, 1000);\n\n  updateContentOptions = ({ field, value }) => {\n    this.setState(prev => {\n      let page = prev.page;\n      let hasAllComments = prev.hasAllComments;\n      if (prev[field] !== value) {\n        page = 1;\n        hasAllComments = false;\n      }\n      return { [field]: value, page, hasAllComments };\n    });\n  };\n\n  render() {\n    const {\n      article,\n      comments,\n      isLoading,\n      hasError,\n      sort_by,\n      order\n    } = this.state;\n    if (hasError) {\n      return <p>Something went wrong...</p>;\n    }\n    if (isLoading) return <p>Loading...</p>;\n    return (\n      <div className=\"ArticlePage\">\n        <Article key={article.title} article={article} full={true} />\n        <div>\n          <NewComment user={this.props.user} />\n        </div>\n        <div className=\"CommentsHeader\">\n          <br />\n          <h3>Comments</h3>\n          <br />\n        </div>\n        <ContentOptions\n          handler={this.updateContentOptions}\n          sort_by={sort_by}\n          order={order}\n          sortOptions={this.sortOptions}\n          orderOptions={this.orderOptions}\n        />\n        <div className=\"CommentList\">\n          {comments.map(comment => (\n            <Comment\n              key={comment.comment_id}\n              comment={comment}\n              article_id={article.article_id}\n            />\n          ))}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default ArticlePage;\n","import React, { Component } from \"react\";\nimport { Link, navigate } from \"@reach/router\";\nimport \"../styles/NewArticle.css\";\nimport { getTopics, postArticle } from \"../api\";\n\nclass NewArticle extends Component {\n  state = {\n    topics: null,\n    isLoading: true,\n    topic: \"\",\n    title: \"\",\n    body: \"\"\n  };\n\n  componentDidMount() {\n    getTopics().then(topics => this.setState({ topics, isLoading: false }));\n  }\n\n  handleSubmit = event => {\n    event.preventDefault();\n    const { topic, title, body } = this.state;\n    const { user } = this.props;\n    console.log(this.state);\n    postArticle(topic, title, body, user.username).then(article => {\n      console.log(\"navigating away!\");\n      navigate(\"/articles/\" + article.article_id);\n    });\n  };\n\n  handleChange = event => {\n    this.setState({ [event.target.name]: event.target.value });\n  };\n\n  render() {\n    const { user } = this.props;\n    const { isLoading, topics } = this.state;\n    if (!user) {\n      return (\n        <div className=\"NewArticle\">\n          <Link to=\"/login\">Please login first.</Link>\n        </div>\n      );\n    }\n    if (isLoading) {\n      return <p>Loading...</p>;\n    }\n    return (\n      <div className=\"NewArticle\">\n        <p>New Article</p>\n        <form className=\"articleForm\" onSubmit={this.handleSubmit}>\n          <input\n            onChange={this.handleChange}\n            type=\"text\"\n            placeholder=\"Title\"\n            className=\"titleInput\"\n            name=\"title\"\n            value={this.state.Title}\n          />\n          <br />\n          <textarea\n            className=\"articleTextarea\"\n            placeholder=\"Say something!\"\n            name=\"body\"\n            onChange={this.handleChange}\n            value={this.state.Body}\n          />\n          <br />\n          <select\n            name=\"topic\"\n            onChange={this.handleChange}\n            value={this.state.Topic}\n            defaultValue=\"Topic\"\n          >\n            <option disabled hidden>\n              Topic\n            </option>{\" \"}\n            {topics.map(topic => (\n              <option key={topic.slug} value={topic.slug}>\n                {topic.slug}\n              </option>\n            ))}\n          </select>\n          <input type=\"submit\" value=\"Post\" />\n        </form>\n      </div>\n    );\n  }\n}\n\nexport default NewArticle;\n","import React, { Component } from \"react\";\nimport { Router, navigate } from \"@reach/router\";\nimport \"./styles/App.css\";\nimport \"./styles/Router.css\";\nimport Auth from \"./components/Auth\";\nimport Navbar from \"./components/Navbar\";\nimport Home from \"./components/Home\";\nimport NoMatch from \"./components/NoMatch\";\nimport ArticlePage from \"./components/ArticlePage\";\nimport NewArticle from \"./components/NewArticle\";\nimport { getUserByUsername } from \"./api\";\n\nclass App extends Component {\n  state = {\n    user: null,\n    page: \"Home\"\n  };\n\n  navOptions = [\n    { value: \"/\", name: \"Home\" },\n    { value: \"/login\", name: \"Login\" },\n    { value: \"/article/new\", name: \"New Article\" }\n  ];\n\n  navRef = {\n    \"/\": \"Home\",\n    \"/login\": \"Login\",\n    \"/article/new\": \"New Article\"\n  };\n\n  componentDidMount() {\n    const retrievedState = localStorage.getItem(\"state\");\n    if (retrievedState) {\n      this.setState(JSON.parse(retrievedState));\n    }\n  }\n\n  componentDidUpdate() {\n    this.handleSave();\n  }\n\n  handleSave = () => {\n    localStorage.setItem(\"state\", JSON.stringify(this.state));\n  };\n\n  setUser = username => {\n    return getUserByUsername(username).then(user => this.setState({ user }));\n  };\n\n  handleNavbar = ({ field, value, name }) => {\n    this.setState({ page: name });\n    navigate(value);\n  };\n\n  render() {\n    const { user } = this.state;\n    return (\n      <div className=\"App\">\n        <Navbar\n          user={user}\n          navOptions={this.navOptions}\n          handler={this.handleNavbar}\n          selected={this.navRef[window.location.pathname]}\n        />\n        <Router className=\"Router\">\n          <Auth\n            path=\"/login\"\n            login={this.setUser}\n            logout={() => this.setState({ user: null })}\n            user={this.state.user}\n          />\n          <Home path=\"/\" />\n          <ArticlePage path=\"/articles/:id\" user={user} />\n          <NewArticle path=\"/article/new\" user={user} />\n          <NoMatch default />\n        </Router>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}