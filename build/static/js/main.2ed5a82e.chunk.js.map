{"version":3,"sources":["components/Auth.js","components/UserIcon.js","components/Title.js","components/Dropdown.js","components/Navbar.js","api.js","components/Votes.js","components/Article.js","components/ArticleList.js","components/ContentOptions.js","components/Home.js","components/NoMatch.js","components/Comment.js","components/NewComment.js","components/ArticlePage.js","components/NewArticle.js","App.js","index.js"],"names":["Auth","state","username","notFound","handleChange","event","target","value","_this","setState","handleSubmit","preventDefault","login","props","then","navigate","catch","this","user","react_default","a","createElement","className","name","onClick","logout","onSubmit","onChange","placeholder","type","Component","UserIcon","_ref","es","to","alt","src","avatar_url","Title","Dropdown","active","toggleActive","_this$props","handler","title","selected","field","trayOptions","concat","map","option","key","Navbar","navOptions","components_Title","components_Dropdown","components_UserIcon","request","axios","create","baseURL","getArticles","params","get","articles","data","Promise","all","article","getUserByUsername","author","patchVotes","voted","article_id","comment_id","body","inc_votes","path","patch","_ref3","comment","getCommentsByArticleId","_ref4","comments","_ref5","postArticle","topic","post","_ref8","postComment","_ref9","Vote","handleVote","vote","update","_this2","votes","react","Article","full","onError","e","Moment","created_at","fromNow","Votes","ArticleList","components_Article","ContentOptions","sort_by","order","sortOptions","orderOptions","getOptionName","slug","options","reduce","Home","page","hasAllArticles","fetchArticles","_this$state","p","newArticles","Object","toConsumableArray","isLoading","err","response","status","_ref2","handleScroll","throttle","_event$target","clientHeight","scrollTop","scrollHeight","updateContentOptions","prev","defineProperty","addScrollEventListener","prevProps","prevState","_this$state2","pageChange","sortChange","orderChange","document","querySelector","addEventListener","_this$state3","components_ContentOptions","components_ArticleList","NoMatch","Comment","NewComment","ArticlePage","hasError","hasAllComments","fetchComments","id","newComments","handleNewComment","getArticleById","components_NewComment","components_Comment","NewArticle","topics","console","log","_ref7","Body","Topic","defaultValue","disabled","hidden","App","navRef","/","/login","/article/new","handleSave","localStorage","setItem","JSON","stringify","setUser","handleNavbar","retrievedState","getItem","parse","components_Navbar","window","location","pathname","components_Auth","components_Home","components_ArticlePage","components_NewArticle","components_NoMatch","default","ReactDOM","render","src_App","getElementById"],"mappings":"yfAyDeA,gOApDbC,MAAQ,CACNC,SAAU,GACVC,UAAU,KAGZC,aAAe,SAAAC,GACb,IAAMH,EAAWG,EAAMC,OAAOC,MAC9BC,EAAKC,SAAS,CAAEP,WAAUC,UAAU,OAGtCO,aAAe,SAAAL,GACbA,EAAMM,kBAGNC,EAFkBJ,EAAKK,MAAfD,OACaJ,EAAKP,MAAlBC,UAELY,KAAK,kBAAMC,YAAS,OACpBC,MAAM,kBAAMR,EAAKC,SAAS,CAAEN,UAAU,+EAIzC,OAAIc,KAAKJ,MAAMK,KAEXC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,QACbH,EAAAC,EAAAC,cAAA,gBAAQJ,KAAKJ,MAAMK,KAAKK,MACxBJ,EAAAC,EAAAC,cAAA,UAAQG,QAASP,KAAKJ,MAAMY,QAA5B,YAKJN,EAAAC,EAAAC,cAAA,OAAKC,UAAU,QACbH,EAAAC,EAAAC,cAAA,QAAMK,SAAUT,KAAKP,cACnBS,EAAAC,EAAAC,cAAA,2BACAF,EAAAC,EAAAC,cAAA,SACEM,SAAUV,KAAKb,aACfG,MAAOU,KAAKhB,MAAMC,SAClB0B,YAAY,oBAEdT,EAAAC,EAAAC,cAAA,SACEF,EAAAC,EAAAC,cAAA,UAAQQ,KAAK,UAAb,YAGHZ,KAAKhB,MAAME,UACVgB,EAAAC,EAAAC,cAAA,YACEF,EAAAC,EAAAC,cAAA,WADF,kDA3CSS,cCiBJC,eAjBE,SAAAC,GAAc,IAAXd,EAAWc,EAAXd,KAClB,OACEC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,YACbH,EAAAC,EAAAC,cAACY,EAAA,EAAD,CAAMC,GAAG,UACPf,EAAAC,EAAAC,cAAA,QAAMC,UAAU,YAAYJ,EAAOA,EAAKhB,SAAW,UAErDiB,EAAAC,EAAAC,cAACY,EAAA,EAAD,CAAMC,GAAG,UACPf,EAAAC,EAAAC,cAAA,OACEC,UAAU,aACVa,IAAKjB,EAAOA,EAAKhB,SAAW,QAC5BkC,IAAKlB,EAAOA,EAAKmB,WAAa,yBCDzBC,EAVD,WACZ,OACEnB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,SACbH,EAAAC,EAAAC,cAACY,EAAA,EAAD,CAAMC,GAAG,KACPf,EAAAC,EAAAC,cAAA,mBC+BOkB,oNAlCbtC,MAAQ,CACNuC,QAAQ,KAGVC,aAAe,WAAM,IACXD,EAAWhC,EAAKP,MAAhBuC,OACRhC,EAAKC,SAAS,CAAE+B,QAASA,6EAGlB,IACCA,EAAWvB,KAAKhB,MAAhBuC,OADDE,EAEkDzB,KAAKJ,MAAtD8B,EAFDD,EAECC,QAASC,EAFVF,EAEUE,MAAOC,EAFjBH,EAEiBG,SAAUC,EAF3BJ,EAE2BI,MAAOC,EAFlCL,EAEkCK,YACzC,OACE5B,EAAAC,EAAAC,cAAA,OAAKC,UAAU,oBAAoBE,QAASP,KAAKwB,cAC/CtB,EAAAC,EAAAC,cAAA,YAAA2B,OAAOJ,GAAPI,OAAeH,IAEf1B,EAAAC,EAAAC,cAAA,MAAIC,UAAS,iBAAA0B,OAAmBR,EAAS,SAAW,aACjDO,EAAYE,IAAI,SAAAC,GAAM,OACrB/B,EAAAC,EAAAC,cAAA,MACEC,UAAU,cACV6B,IAAKD,EAAO3C,MACZiB,QAAS,kBACPmB,EAAQ,CAAEG,QAAOvC,MAAO2C,EAAO3C,MAAOgB,KAAM2B,EAAO3B,SAGpD2B,EAAO3B,iBA1BCO,cCmBRsB,EAhBA,SAAApB,GAA6C,IAA1Cd,EAA0Cc,EAA1Cd,KAAMmC,EAAoCrB,EAApCqB,WAAYV,EAAwBX,EAAxBW,QAASE,EAAeb,EAAfa,SAC3C,OACE1B,EAAAC,EAAAC,cAAA,OAAKC,UAAU,UACbH,EAAAC,EAAAC,cAACiC,EAAD,MACAnC,EAAAC,EAAAC,cAACkC,EAAD,CACER,YAAaM,EACbR,SAAUA,EACVD,MAAO,GACPtB,UAAU,WACVqB,QAASA,IAEXxB,EAAAC,EAAAC,cAACmC,EAAD,CAAUtC,KAAMA,sDCfhBuC,SAAUC,EAAMC,OAAO,CAC3BC,QAAS,2CAGEC,EAAc,SAAAC,GAEzB,OAAOL,EAAQM,IADL,WACe,CAAED,WAAUhD,KAAK,SAAAkB,GAAc,IAChDgC,EADgDhC,EAAXiC,KACrBD,SACtB,OAAOE,QAAQC,IACbH,EAASf,IAAI,SAAAmB,GAAO,OAClBC,EAAkBD,EAAQE,QAAQxD,KAAK,SAAAI,GAErC,OADAkD,EAAQ/B,WAAanB,EAAKmB,WACnB+B,UAkBJG,EAAa,SAACC,EAAOC,EAAYC,GAC5C,IAAMC,EAAO,CAAEC,UAAWJ,GACpBK,EAAI,YAAA7B,OAAeyB,GAAfzB,OACR0B,EAAU,aAAA1B,OAAgB0B,GAAe,IAE3C,OAAOjB,EACJqB,MAAMD,EAAMF,GACZ7D,KAAK,SAAAiE,GAAA,IAAGd,EAAHc,EAAGd,KAAH,OAAeA,EAAKG,QAAUH,EAAKG,QAAUH,EAAKe,WAG/CC,EAAyB,SAACR,EAAYX,GACjD,IAAMe,EAAI,YAAA7B,OAAeyB,EAAf,aACV,OAAOhB,EAAQM,IAAIc,EAAM,CAAEf,WAAUhD,KAAK,SAAAoE,GAAc,IAChDC,EADgDD,EAAXjB,KACrBkB,SACtB,OAAOjB,QAAQC,IACbgB,EAASlC,IAAI,SAAA+B,GAAO,OAClBX,EAAkBW,EAAQV,QAAQxD,KAAK,SAAAI,GAErC,OADA8D,EAAQ3C,WAAanB,EAAKmB,WACnB2C,UAOJX,EAAoB,SAAAnE,GAC/B,IAAM2E,EAAI,SAAA7B,OAAY9C,GACtB,OAAOuD,EAAQM,IAAIc,GAAM/D,KAAK,SAAAsE,GAAA,OAAAA,EAAGnB,KAAgB/C,QAatCmE,EAAc,SAACC,EAAO1C,EAAO+B,EAAMzE,GAC9C,IAAM2E,EAAI,UAAA7B,OAAasC,EAAb,aACV,OAAO7B,EACJ8B,KAAKV,EAAM,CAAEjC,QAAO+B,OAAMzE,aAC1BY,KAAK,SAAA0E,GAAA,OAAAA,EAAGvB,KAAgBG,WAGhBqB,EAAc,SAAChB,EAAYvE,EAAUyE,GAChD,IAAME,EAAI,YAAA7B,OAAeyB,EAAf,aACV,OAAOhB,EACJ8B,KAAKV,EAAM,CAAE3E,WAAUyE,SACvB7D,KAAK,SAAA4E,GAAA,OAAAA,EAAGzB,KAAgBe,WC9BdW,oNA/Cb1F,MAAQ,CACNuE,MAAO,KAGToB,WAAa,SAAAC,GAAQ,IACbrB,EAAUhE,EAAKP,MAAfuE,MADa9B,EAEgBlC,EAAKK,MAAhC4D,EAFW/B,EAEX+B,WAAYC,EAFDhC,EAECgC,WAChBoB,EAAS,EACTtB,IAAUqB,GACZrB,EAAQ,EACRsB,GAAUD,GACDrB,KAAWqB,GACpBrB,EAAQqB,EACRC,EAAgB,EAAPD,IAETrB,EAAQqB,EACRC,EAASD,GAEXrF,EAAKC,SAAS,CAAE+D,UAChBD,EAAWuB,EAAQrB,EAAYC,4EAGxB,IAAAqB,EAAA9E,KACC+E,EAAU/E,KAAKJ,MAAfmF,MACAxB,EAAUvD,KAAKhB,MAAfuE,MACR,OACErD,EAAAC,EAAAC,cAAC4E,EAAA,SAAD,KACE9E,EAAAC,EAAAC,cAAA,QACEC,UAAS,eAAA0B,OAAiBwB,EAAQ,EAAI,QAAU,IAChDhD,QAAS,kBAAMuE,EAAKH,WAAW,KAE/BzE,EAAAC,EAAAC,cAAA,KAAGC,UAAU,gBAAiB,KAGhCH,EAAAC,EAAAC,cAAA,QAAMC,UAAU,kBAAkB0E,EAAQxB,GAE1CrD,EAAAC,EAAAC,cAAA,QACEC,UAAS,iBAAA0B,OAAmBwB,EAAQ,EAAI,QAAU,IAClDhD,QAAS,kBAAMuE,EAAKH,YAAY,KAEhCzE,EAAAC,EAAAC,cAAA,KAAGC,UAAU,kBAAmB,aA1CvBQ,cC4CJoE,EA1CC,SAAAlE,GAAuB,IAApBoC,EAAoBpC,EAApBoC,QAAS+B,EAAWnE,EAAXmE,KAC1B,OACEhF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,WACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,UACbH,EAAAC,EAAAC,cAAA,OACEc,IAAKiC,EAAQE,OACblC,IAAKgC,EAAQ/B,WACb+D,QAAS,SAAAC,GAAC,OACPA,EAAE/F,OAAO8B,IACR,8FAIRjB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,UACbH,EAAAC,EAAAC,cAAA,YACG+C,EAAQE,OADX,OACuBF,EAAQkB,MAC7BnE,EAAAC,EAAAC,cAAA,WACCiF,IAAOlC,EAAQmC,WAAY,wBAAwBC,YAGxDrF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,SACbH,EAAAC,EAAAC,cAAA,cAEFF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,SACZ6E,EACChF,EAAAC,EAAAC,cAAA,YAAO+C,EAAQxB,OAEfzB,EAAAC,EAAAC,cAACY,EAAA,EAAD,CAAMC,GAAE,aAAAc,OAAeoB,EAAQK,aAAeL,EAAQxB,QAG1DzB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,SACbH,EAAAC,EAAAC,cAACoF,EAAD,CAAOT,MAAO5B,EAAQ4B,MAAOvB,WAAYL,EAAQK,cAElD0B,GACChF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,QACbH,EAAAC,EAAAC,cAAA,SAAI+C,EAAQO,SCvBP+B,SAdK,SAAA1E,GAAkB,IAAfgC,EAAehC,EAAfgC,SACrB,OACE7C,EAAAC,EAAAC,cAAA,UACG2C,EAASf,IAAI,SAAAmB,GACZ,OACEjD,EAAAC,EAAAC,cAAA,MAAI8B,IAAKiB,EAAQK,YACftD,EAAAC,EAAAC,cAACsF,EAAD,CAASvC,QAASA,kBC2BfwC,SAjCQ,SAAA5E,GAMjB,IALJW,EAKIX,EALJW,QACAkE,EAII7E,EAJJ6E,QACAC,EAGI9E,EAHJ8E,MACAC,EAEI/E,EAFJ+E,YACAC,EACIhF,EADJgF,aAEMC,EAAgB,SAACC,EAAMC,GAC3B,OAAOA,EAAQC,OAAO,SAAC7F,EAAM2B,GAC3B,OAAOA,EAAO3C,QAAU2G,EAAOhE,EAAO3B,KAAOA,GAC5C,KAGL,OACEJ,EAAAC,EAAAC,cAAA,OAAKC,UAAU,kBACbH,EAAAC,EAAAC,cAACkC,EAAD,CACEZ,QAASA,EACTI,YAAagE,EACbnE,MAAM,YACNC,SAAUoE,EAAcJ,EAASE,GACjCjE,MAAM,YAER3B,EAAAC,EAAAC,cAACkC,EAAD,CACEZ,QAASA,EACTI,YAAaiE,EACbpE,MAAM,UACNC,SAAUoE,EAAcH,EAAOE,GAC/BlE,MAAM,aCmFCuE,6MA3GbpH,MAAQ,CACN+D,SAAU,GACV6C,QAAS,aACTC,MAAO,OACPQ,KAAM,EACNhC,MAAO,KACPiC,gBAAgB,KAGlBR,YAAc,CACZ,CAAExG,MAAO,QAASgB,KAAM,SACxB,CAAEhB,MAAO,oBAAqBgB,KAAM,QACpC,CAAEhB,MAAO,QAASgB,KAAM,SACxB,CAAEhB,MAAO,aAAcgB,KAAM,QAC7B,CAAEhB,MAAO,QAASgB,KAAM,SACxB,CAAEhB,MAAO,gBAAiBgB,KAAM,eAGlCyF,aAAe,CACb,CAAEzG,MAAO,MAAOgB,KAAM,aACtB,CAAEhB,MAAO,OAAQgB,KAAM,iBAyBzBiG,cAAgB,WAAM,IAAAC,EACajH,EAAKP,MAA9B4G,EADYY,EACZZ,QAASC,EADGW,EACHX,MAAOQ,EADJG,EACIH,KAExBzD,EAAY,CAAEgD,UAASC,QAAOY,EAAGJ,IAC9BxG,KAAK,SAAA6G,GACJnH,EAAKC,SAAS,SAAAuB,GAAA,IAAGsF,EAAHtF,EAAGsF,KAAMtD,EAAThC,EAASgC,SAAT,MAAyB,CACrCA,SAAmB,IAATsD,EAAaK,EAAb,GAAA3E,OAAA4E,OAAAC,EAAA,EAAAD,CAA+B5D,GAA/B4D,OAAAC,EAAA,EAAAD,CAA4CD,IACtDG,WAAW,OAGd9G,MAAM,SAAA+G,GACuB,MAAxBA,EAAIC,SAASC,QACfzH,EAAKC,SAAS,SAAAyH,GACZ,MAAO,CAAEX,gBAAgB,EAAMD,KADLY,EAAXZ,KAC6B,UAYtDa,aAAeC,mBAAS,SAAA/H,GAAS,IAAAgI,EACmBhI,EAAMC,OAAhDgI,EADuBD,EACvBC,aAAcC,EADSF,EACTE,UADSF,EACEG,cACUF,EAAeC,GACjC,KACvB/H,EAAKC,SAAS,SAAAsE,GAAA,MAAe,CAAEuC,KAAjBvC,EAAGuC,KAA2B,MAE7C,OAEHmB,qBAAuB,SAAAvD,GAAsB,IAAnBpC,EAAmBoC,EAAnBpC,MAAOvC,EAAY2E,EAAZ3E,MAC/BC,EAAKC,SAAS,SAAAiI,GAAQ,IAAAtD,EAChBkC,EAAOoB,EAAKpB,KACZC,EAAiBmB,EAAKnB,eAK1B,OAJImB,EAAK5F,KAAWvC,IAClB+G,EAAO,EACPC,GAAiB,GAEnBnC,EAAA,GAAAwC,OAAAe,EAAA,EAAAf,CAAAxC,EAAUtC,EAAQvC,GAAlBqH,OAAAe,EAAA,EAAAf,CAAAxC,EAAA,OAAyBkC,GAAzBM,OAAAe,EAAA,EAAAf,CAAAxC,EAAA,iBAA+BmC,GAA/BnC,wFA/DgB,IAAAW,EAAA9E,KACV4F,EAAY5F,KAAKhB,MAAjB4G,QACRhD,EAAYgD,GAAS/F,KAAK,SAAAkD,GAAQ,OAAI+B,EAAKtF,SAAS,CAAEuD,eACtD/C,KAAK2H,oEAGYC,EAAWC,GAAW,IAAAC,EACU9H,KAAKhB,MAA9CqH,EAD+ByB,EAC/BzB,KAAMC,EADyBwB,EACzBxB,eAAgBV,EADSkC,EACTlC,QAASC,EADAiC,EACAjC,MAEjCkC,EAAaF,EAAUxB,OAASA,EAChC2B,EAAaH,EAAUjC,UAAYA,EACnCqC,EAAcJ,EAAUhC,QAAUA,GAGrBkC,IAAgBzB,GACjC0B,GACAC,IAEAjI,KAAKuG,iEAwBP2B,SACGC,cAAc,gBACdC,iBAAiB,SAAUpI,KAAKkH,+CAuB5B,IAAAmB,EAC8BrI,KAAKhB,MAAlC+D,EADDsF,EACCtF,SAAU6C,EADXyC,EACWzC,QAASC,EADpBwC,EACoBxC,MAC3B,OACE3F,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eACbH,EAAAC,EAAAC,cAACkI,EAAD,CACE5G,QAAS1B,KAAKwH,qBACd5B,QAASA,EACTC,MAAOA,EACPC,YAAa9F,KAAK8F,YAClBC,aAAc/F,KAAK+F,eAErB7F,EAAAC,EAAAC,cAACmI,EAAD,CAAaxF,SAAUA,YAtGZlC,aCKJ2H,SARC,WACd,OACEtI,EAAAC,EAAAC,cAAA,OAAKC,UAAU,WACbH,EAAAC,EAAAC,cAAA,+BCiCSqI,SAlCC,SAAA1H,GAA6B,IAA1BgD,EAA0BhD,EAA1BgD,QAASP,EAAiBzC,EAAjByC,WAC1B,OACEtD,EAAAC,EAAAC,cAAA,OAAKC,UAAU,WACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,UACbH,EAAAC,EAAAC,cAAA,OACEc,IAAK6C,EAAQV,OACblC,IAAK4C,EAAQ3C,WACb+D,QAAS,SAAAC,GAAC,OACPA,EAAE/F,OAAO8B,IACR,8FAIRjB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,UACbH,EAAAC,EAAAC,cAAA,YACG2D,EAAQV,OACTnD,EAAAC,EAAAC,cAAA,WACCiF,IAAOtB,EAAQuB,WAAY,wBAAwBC,YAGxDrF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,QACbH,EAAAC,EAAAC,cAAA,SAAI2D,EAAQL,OAEdxD,EAAAC,EAAAC,cAAA,OAAKC,UAAU,SACbH,EAAAC,EAAAC,cAACoF,EAAD,CACET,MAAOhB,EAAQgB,MACfvB,WAAYA,EACZC,WAAYM,EAAQN,iBCqBfiF,oNA/Cb1J,MAAQ,CACN0E,KAAM,MAGRjE,aAAe,SAAAL,GACbA,EAAMM,iBADgB,IAEdgE,EAASnE,EAAKP,MAAd0E,KAFcjC,EAGOlC,EAAKK,MAA1BK,EAHcwB,EAGdxB,KAAMuD,EAHQ/B,EAGR+B,WACdgB,EAAYhB,EAAYvD,EAAKhB,SAAUyE,GAAM7D,KAAK,kBAChDN,EAAKK,MAAM8B,eAIfvC,aAAe,SAAAC,GACbG,EAAKC,SAAS,CAAEkE,KAAMtE,EAAMC,OAAOC,iFAG5B,IACCW,EAASD,KAAKJ,MAAdK,KACA4G,EAAc7G,KAAKhB,MAAnB6H,UACR,OAAK5G,EAOD4G,EACK3G,EAAAC,EAAAC,cAAA,uBAGPF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACbH,EAAAC,EAAAC,cAAA,QAAMC,UAAU,cAAcI,SAAUT,KAAKP,cAC3CS,EAAAC,EAAAC,cAAA,YACEC,UAAU,kBACVM,YAAY,iBACZD,SAAUV,KAAKb,aACfG,MAAOU,KAAKhB,MAAM0E,OAEpBxD,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,SAAOQ,KAAK,SAAStB,MAAM,cAlB7BY,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACbH,EAAAC,EAAAC,cAACY,EAAA,EAAD,CAAMC,GAAG,UAAT,+BAxBeJ,cC6JV8H,oNAxJb3J,MAAQ,CACNmE,QAAS,KACTe,SAAU,KACV2C,WAAW,EACX+B,UAAU,EACVhD,QAAS,aACTC,MAAO,OACPQ,KAAM,EACNwC,gBAAgB,KAGlB/C,YAAc,CACZ,CAAExG,MAAO,aAAcgB,KAAM,QAC7B,CAAEhB,MAAO,QAASgB,KAAM,SACxB,CAAEhB,MAAO,oBAAqBgB,KAAM,WAGtCyF,aAAe,CACb,CAAEzG,MAAO,MAAOgB,KAAM,aACtB,CAAEhB,MAAO,OAAQgB,KAAM,iBAiCzBwI,cAAgB,WAAM,IAAAtC,EACajH,EAAKP,MAA9B4G,EADYY,EACZZ,QAASC,EADGW,EACHX,MAAOQ,EADJG,EACIH,KAChB0C,EAAOxJ,EAAKK,MAAZmJ,GACR/E,EAAuB+E,EAAI,CAAEnD,UAASC,QAAOY,EAAGJ,IAC7CxG,KAAK,SAAAmJ,GACJzJ,EAAKC,SAAS,SAAAuB,GAAA,IAAGsF,EAAHtF,EAAGsF,KAAMnC,EAATnD,EAASmD,SAAT,MAAyB,CACrCA,SAAmB,IAATmC,EAAa2C,EAAb,GAAAjH,OAAA4E,OAAAC,EAAA,EAAAD,CAA+BzC,GAA/ByC,OAAAC,EAAA,EAAAD,CAA4CqC,IACtDnC,WAAW,OAGd9G,MAAM,SAAA+G,GACuB,MAAxBA,EAAIC,SAASC,QACfzH,EAAKC,SAAS,SAAAyH,GACZ,MAAO,CAAE4B,gBAAgB,EAAMxC,KADLY,EAAXZ,KAC6B,UAYtD4C,iBAAmB,WACjB1J,EAAKC,SAAS,CAAE6G,KAAM,EAAGnC,SAAU,KAAM2C,WAAW,GAAQ,kBAC1DtH,EAAKuJ,qBAIT5B,aAAeC,mBAAS,SAAA/H,GAAS,IAAAgI,EACmBhI,EAAMC,OAAhDgI,EADuBD,EACvBC,aAAcC,EADSF,EACTE,UADSF,EACEG,cACUF,EAAeC,GACjC,KACvB/H,EAAKC,SAAS,SAAAsE,GAAA,IAAGuC,EAAHvC,EAAGuC,KAAH,MAAe,CAAEA,OAAQA,MAExC,OAEHmB,qBAAuB,SAAAvD,GAAsB,IAAnBpC,EAAmBoC,EAAnBpC,MAAOvC,EAAY2E,EAAZ3E,MAC/BC,EAAKC,SAAS,SAAAiI,GAAQ,IAAAtD,EAChBkC,EAAOoB,EAAKpB,KACZwC,EAAiBpB,EAAKoB,eAK1B,OAJIpB,EAAK5F,KAAWvC,IAClB+G,EAAO,EACPwC,GAAiB,GAEnB1E,EAAA,GAAAwC,OAAAe,EAAA,EAAAf,CAAAxC,EAAUtC,EAAQvC,GAAlBqH,OAAAe,EAAA,EAAAf,CAAAxC,EAAA,OAAyBkC,GAAzBM,OAAAe,EAAA,EAAAf,CAAAxC,EAAA,iBAA+B0E,GAA/B1E,wFA7EgB,IAAAW,EAAA9E,KACV+I,EAAO/I,KAAKJ,MAAZmJ,GACH/I,KAAKhB,MAAMmE,STbU,SAAAK,GAC5B,IAAMI,EAAO,YAAcJ,EAC3B,OAAOhB,EAAQM,IAAIc,GAAM/D,KAAK,SAAAoH,GAAc,IACpC9D,EADoC8D,EAAXjE,KACVG,QACrB,OAAOC,EAAkBD,EAAQE,QAAQxD,KAAK,SAAAI,GAE5C,OADAkD,EAAQ/B,WAAanB,EAAKmB,WACnB+B,MSQP+F,CAAeH,GACZlJ,KAAK,SAAAsD,GACJ2B,EAAKtF,SAAS,CAAE2D,cAEjBtD,KAAK,kBAAMmE,EAAuB+E,KAClClJ,KAAK,SAAAqE,GACJY,EAAKtF,SAAS,CAAE0E,WAAU2C,WAAW,MAEtC9G,MAAM,SAAA+G,GAAG,OAAIhC,EAAKtF,SAAS,CAAEoJ,UAAU,iDAI3BhB,EAAWC,GAAW,IAAAC,EACqB9H,KAAKhB,MAAzDqH,EAD+ByB,EAC/BzB,KAAMwC,EADyBf,EACzBe,eAAgBjD,EADSkC,EACTlC,QAASC,EADAiC,EACAjC,MAAOgB,EADPiB,EACOjB,UACxCkB,EAAaF,EAAUxB,OAASA,EAChC2B,EAAaH,EAAUjC,UAAYA,EACnCqC,EAAcJ,EAAUhC,QAAUA,GAEnCkC,IAAec,GAAmBb,GAAcC,IACnDjI,KAAK8I,iBAGqB,IAAxBjB,EAAUhB,YAAoC,IAAdA,GAClC7G,KAAK2H,0EAwBPO,SACGC,cAAc,gBACdC,iBAAiB,SAAUpI,KAAKkH,+CA6B5B,IAAAmB,EAQHrI,KAAKhB,MANPmE,EAFKkF,EAELlF,QACAe,EAHKmE,EAGLnE,SACA2C,EAJKwB,EAILxB,UACA+B,EALKP,EAKLO,SACAhD,EANKyC,EAMLzC,QACAC,EAPKwC,EAOLxC,MAEF,OAAI+C,EACK1I,EAAAC,EAAAC,cAAA,oCAELyG,EAAkB3G,EAAAC,EAAAC,cAAA,uBAEpBF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eACbH,EAAAC,EAAAC,cAACsF,EAAD,CAASxD,IAAKiB,EAAQxB,MAAOwB,QAASA,EAAS+B,MAAM,IACrDhF,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAC+I,EAAD,CACElJ,KAAMD,KAAKJ,MAAMK,KACjBuD,WAAYxD,KAAKJ,MAAMmJ,GACvBrH,QAAS1B,KAAKiJ,oBAGlB/I,EAAAC,EAAAC,cAAA,OAAKC,UAAU,kBACbH,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,sBACAF,EAAAC,EAAAC,cAAA,YAEFF,EAAAC,EAAAC,cAACkI,EAAD,CACE5G,QAAS1B,KAAKwH,qBACd5B,QAASA,EACTC,MAAOA,EACPC,YAAa9F,KAAK8F,YAClBC,aAAc/F,KAAK+F,eAErB7F,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eACZ6D,EAASlC,IAAI,SAAA+B,GAAO,OACnB7D,EAAAC,EAAAC,cAACgJ,EAAD,CACElH,IAAK6B,EAAQN,WACbM,QAASA,EACTP,WAAYL,EAAQK,wBAhJR3C,cCgFXwI,6MAnFbrK,MAAQ,CACNsK,OAAQ,KACRzC,WAAW,EACXxC,MAAO,GACP1C,MAAO,GACP+B,KAAM,MAORjE,aAAe,SAAAL,GACbA,EAAMM,iBADgB,IAAA8G,EAESjH,EAAKP,MAA5BqF,EAFcmC,EAEdnC,MAAO1C,EAFO6E,EAEP7E,MAAO+B,EAFA8C,EAEA9C,KACdzD,EAASV,EAAKK,MAAdK,KACRsJ,QAAQC,IAAIjK,EAAKP,OACjBoF,EAAYC,EAAO1C,EAAO+B,EAAMzD,EAAKhB,UAAUY,KAAK,SAAAsD,GAClDoG,QAAQC,IAAI,oBACZ1J,YAAS,aAAeqD,EAAQK,iBAIpCrE,aAAe,SAAAC,GACbG,EAAKC,SAALmH,OAAAe,EAAA,EAAAf,CAAA,GAAiBvH,EAAMC,OAAOiB,KAAOlB,EAAMC,OAAOC,4FAhBhC,IAAAwF,EAAA9E,KVuDbwC,EAAQM,IADF,UACYjD,KAAK,SAAA4J,GAAA,OAAAA,EAAGzG,KAAgBsG,SUtDnCzJ,KAAK,SAAAyJ,GAAM,OAAIxE,EAAKtF,SAAS,CAAE8J,SAAQzC,WAAW,uCAkBvD,IACC5G,EAASD,KAAKJ,MAAdK,KADD6H,EAEuB9H,KAAKhB,MAA3B6H,EAFDiB,EAECjB,UAAWyC,EAFZxB,EAEYwB,OACnB,OAAKrJ,EAOD4G,EACK3G,EAAAC,EAAAC,cAAA,uBAGPF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACbH,EAAAC,EAAAC,cAAA,wBACAF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,cAAcI,SAAUT,KAAKP,cAC3CS,EAAAC,EAAAC,cAAA,SACEM,SAAUV,KAAKb,aACfyB,KAAK,OACLD,YAAY,QACZN,UAAU,aACVC,KAAK,QACLhB,MAAOU,KAAKhB,MAAMqC,QAEpBnB,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,YACEC,UAAU,kBACVM,YAAY,iBACZL,KAAK,OACLI,SAAUV,KAAKb,aACfG,MAAOU,KAAKhB,MAAM0K,OAEpBxJ,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,UACEE,KAAK,QACLI,SAAUV,KAAKb,aACfG,MAAOU,KAAKhB,MAAM2K,MAClBC,aAAa,SAEb1J,EAAAC,EAAAC,cAAA,UAAQyJ,UAAQ,EAACC,QAAM,GAAvB,SAEU,IACTR,EAAOtH,IAAI,SAAAqC,GAAK,OACfnE,EAAAC,EAAAC,cAAA,UAAQ8B,IAAKmC,EAAM4B,KAAM3G,MAAO+E,EAAM4B,MACnC5B,EAAM4B,SAIb/F,EAAAC,EAAAC,cAAA,SAAOQ,KAAK,SAAStB,MAAM,WA5C7BY,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACbH,EAAAC,EAAAC,cAACY,EAAA,EAAD,CAAMC,GAAG,UAAT,+BAlCeJ,aC4EVkJ,6MApEb/K,MAAQ,CACNiB,KAAM,KACNoG,KAAM,UAGRjE,WAAa,CACX,CAAE9C,MAAO,IAAKgB,KAAM,QACpB,CAAEhB,MAAO,SAAUgB,KAAM,SACzB,CAAEhB,MAAO,eAAgBgB,KAAM,kBAGjC0J,OAAS,CACPC,IAAK,OACLC,SAAU,QACVC,eAAgB,iBAclBC,WAAa,WACXC,aAAaC,QAAQ,QAASC,KAAKC,UAAUjL,EAAKP,WAGpDyL,QAAU,SAAAxL,GACR,OAAOmE,EAAkBnE,GAAUY,KAAK,SAAAI,GAAI,OAAIV,EAAKC,SAAS,CAAES,cAGlEyK,aAAe,SAAA3J,GAA4BA,EAAzBc,MAAyB,IAAlBvC,EAAkByB,EAAlBzB,MAAOgB,EAAWS,EAAXT,KAC9Bf,EAAKC,SAAS,CAAE6G,KAAM/F,IACtBR,YAASR,uFApBT,IAAMqL,EAAiBN,aAAaO,QAAQ,SACxCD,GACF3K,KAAKR,SAAS+K,KAAKM,MAAMF,iDAK3B3K,KAAKoK,8CAgBE,IAAAtF,EAAA9E,KACCC,EAASD,KAAKhB,MAAdiB,KACR,OACEC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,OACbH,EAAAC,EAAAC,cAAC0K,EAAD,CACE7K,KAAMA,EACNmC,WAAYpC,KAAKoC,WACjBV,QAAS1B,KAAK0K,aACd9I,SAAU5B,KAAKgK,OAAOe,OAAOC,SAASC,YAExC/K,EAAAC,EAAAC,cAACY,EAAA,EAAD,CAAQX,UAAU,UAChBH,EAAAC,EAAAC,cAAC8K,EAAD,CACEtH,KAAK,SACLjE,MAAOK,KAAKyK,QACZjK,OAAQ,kBAAMsE,EAAKtF,SAAS,CAAES,KAAM,QACpCA,KAAMD,KAAKhB,MAAMiB,OAEnBC,EAAAC,EAAAC,cAAC+K,EAAD,CAAMvH,KAAK,MACX1D,EAAAC,EAAAC,cAACgL,EAAD,CAAaxH,KAAK,gBAAgB3D,KAAMA,IACxCC,EAAAC,EAAAC,cAACiL,EAAD,CAAYzH,KAAK,eAAe3D,KAAMA,IACtCC,EAAAC,EAAAC,cAACkL,EAAD,CAASC,SAAO,aA9DR1K,aCRlB2K,IAASC,OAAOvL,EAAAC,EAAAC,cAACsL,EAAD,MAASxD,SAASyD,eAAe","file":"static/js/main.2ed5a82e.chunk.js","sourcesContent":["import React, { Component } from \"react\";\nimport { navigate } from \"@reach/router\";\nimport \"../styles/Auth.css\";\n\nclass Auth extends Component {\n  state = {\n    username: \"\",\n    notFound: false\n  };\n\n  handleChange = event => {\n    const username = event.target.value;\n    this.setState({ username, notFound: false });\n  };\n\n  handleSubmit = event => {\n    event.preventDefault();\n    const { login } = this.props;\n    const { username } = this.state;\n    login(username)\n      .then(() => navigate(\"/\"))\n      .catch(() => this.setState({ notFound: true }));\n  };\n\n  render() {\n    if (this.props.user) {\n      return (\n        <div className=\"Auth\">\n          <p>Hi, {this.props.user.name}</p>\n          <button onClick={this.props.logout}>Log out</button>\n        </div>\n      );\n    }\n    return (\n      <div className=\"Auth\">\n        <form onSubmit={this.handleSubmit}>\n          <label>Username: </label>\n          <input\n            onChange={this.handleChange}\n            value={this.state.username}\n            placeholder=\"try 'jessjelly'\"\n          />\n          <p>\n            <button type=\"submit\">Log in</button>\n          </p>\n        </form>\n        {this.state.notFound && (\n          <span>\n            <br />\n            Sorry, we couldn't find that username.\n          </span>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default Auth;\n","import React from \"react\";\nimport { Link } from \"@reach/router\";\nimport \"../styles/UserIcon.css\";\n\nconst UserIcon = ({ user }) => {\n  return (\n    <div className=\"UserIcon\">\n      <Link to=\"/login\">\n        <span className=\"userName\">{user ? user.username : \"Login\"}</span>\n      </Link>\n      <Link to=\"/login\">\n        <img\n          className=\"userAvatar\"\n          alt={user ? user.username : \"login\"}\n          src={user ? user.avatar_url : \"images/login.png\"}\n        />\n      </Link>\n    </div>\n  );\n};\n\nexport default UserIcon;\n","import React from \"react\";\nimport { Link } from \"@reach/router\";\n\nconst Title = () => {\n  return (\n    <div className=\"Title\">\n      <Link to=\"/\">\n        <h2>NC</h2>\n      </Link>\n    </div>\n  );\n};\n\nexport default Title;\n","import React, { Component } from \"react\";\nimport \"../styles/Dropdown.css\";\n\nclass Dropdown extends Component {\n  state = {\n    active: false\n  };\n\n  toggleActive = () => {\n    const { active } = this.state;\n    this.setState({ active: !active });\n  };\n\n  render() {\n    const { active } = this.state;\n    const { handler, title, selected, field, trayOptions } = this.props;\n    return (\n      <div className=\"Dropdown noselect\" onClick={this.toggleActive}>\n        <p>{`${title}${selected}`}</p>\n\n        <ul className={`Dropdown-List-${active ? \"Active\" : \"Inactive\"}`}>\n          {trayOptions.map(option => (\n            <li\n              className=\"Dropdown-Li\"\n              key={option.value}\n              onClick={() =>\n                handler({ field, value: option.value, name: option.name })\n              }\n            >\n              {option.name}\n            </li>\n          ))}\n        </ul>\n      </div>\n    );\n  }\n}\n\nexport default Dropdown;\n","import React from \"react\";\nimport \"../styles/Navbar.css\";\nimport UserIcon from \"./UserIcon\";\nimport Title from \"./Title\";\nimport Dropdown from \"./Dropdown\";\n\nconst Navbar = ({ user, navOptions, handler, selected }) => {\n  return (\n    <nav className=\"Navbar\">\n      <Title />\n      <Dropdown\n        trayOptions={navOptions}\n        selected={selected}\n        title={\"\"}\n        className=\"dropDown\"\n        handler={handler}\n      />\n      <UserIcon user={user} />\n    </nav>\n  );\n};\n\nexport default Navbar;\n","import axios from \"axios\";\n\nconst request = axios.create({\n  baseURL: \"https://be2-nc-news.herokuapp.com/api/\"\n});\n\nexport const getArticles = params => {\n  const path = `articles`;\n  return request.get(path, { params }).then(({ data }) => {\n    const articles = data.articles;\n    return Promise.all(\n      articles.map(article =>\n        getUserByUsername(article.author).then(user => {\n          article.avatar_url = user.avatar_url;\n          return article;\n        })\n      )\n    );\n  });\n};\n\nexport const getArticleById = article_id => {\n  const path = `articles/` + article_id;\n  return request.get(path).then(({ data }) => {\n    const article = data.article;\n    return getUserByUsername(article.author).then(user => {\n      article.avatar_url = user.avatar_url;\n      return article;\n    });\n  });\n};\n\nexport const patchVotes = (voted, article_id, comment_id) => {\n  const body = { inc_votes: voted };\n  const path = `articles/${article_id}${\n    comment_id ? `/comments/${comment_id}` : \"\"\n  }`;\n  return request\n    .patch(path, body)\n    .then(({ data }) => (data.article ? data.article : data.comment));\n};\n\nexport const getCommentsByArticleId = (article_id, params) => {\n  const path = `articles/${article_id}/comments`;\n  return request.get(path, { params }).then(({ data }) => {\n    const comments = data.comments;\n    return Promise.all(\n      comments.map(comment =>\n        getUserByUsername(comment.author).then(user => {\n          comment.avatar_url = user.avatar_url;\n          return comment;\n        })\n      )\n    );\n  });\n};\n\nexport const getUserByUsername = username => {\n  const path = `users/${username}`;\n  return request.get(path).then(({ data }) => data.user);\n};\n\nexport const getUsers = () => {\n  const path = `users`;\n  return request.get(path).then(({ data }) => data.users);\n};\n\nexport const getTopics = () => {\n  const path = \"topics\";\n  return request.get(path).then(({ data }) => data.topics);\n};\n\nexport const postArticle = (topic, title, body, username) => {\n  const path = `topics/${topic}/articles`;\n  return request\n    .post(path, { title, body, username })\n    .then(({ data }) => data.article);\n};\n\nexport const postComment = (article_id, username, body) => {\n  const path = `articles/${article_id}/comments`;\n  return request\n    .post(path, { username, body })\n    .then(({ data }) => data.comment);\n};\n","import React, { Component, Fragment } from \"react\";\nimport { patchVotes } from \"../api\";\nimport \"../css/foundation-icons.css\";\n\nclass Vote extends Component {\n  //save this to localstorage\n  state = {\n    voted: 0\n  };\n\n  handleVote = vote => {\n    let { voted } = this.state;\n    const { article_id, comment_id } = this.props;\n    let update = 0;\n    if (voted === vote) {\n      voted = 0;\n      update = -vote;\n    } else if (voted === -vote) {\n      voted = vote;\n      update = vote * 2;\n    } else {\n      voted = vote;\n      update = vote;\n    }\n    this.setState({ voted });\n    patchVotes(update, article_id, comment_id);\n  };\n\n  render() {\n    const { votes } = this.props;\n    const { voted } = this.state;\n    return (\n      <Fragment>\n        <span\n          className={`up noselect ${voted > 0 ? \"Voted\" : \"\"}`}\n          onClick={() => this.handleVote(1)}\n        >\n          <i className=\"fi-arrow-up\" />{\" \"}\n        </span>\n\n        <span className=\"count noselect\">{votes + voted}</span>\n\n        <span\n          className={`down noselect ${voted < 0 ? \"Voted\" : \"\"}`}\n          onClick={() => this.handleVote(-1)}\n        >\n          <i className=\"fi-arrow-down\" />{\" \"}\n        </span>\n      </Fragment>\n    );\n  }\n}\n\nexport default Vote;\n","import React from \"react\";\nimport { Link } from \"@reach/router\";\nimport \"../styles/Article.css\";\nimport Moment from \"moment\";\nimport Votes from \"./Votes\";\n\nconst Article = ({ article, full }) => {\n  return (\n    <div className=\"Article\">\n      <div className=\"avatar\">\n        <img\n          alt={article.author}\n          src={article.avatar_url}\n          onError={e =>\n            (e.target.src =\n              \"https://upload.wikimedia.org/wikipedia/commons/thumb/e/e0/SNice.svg/220px-SNice.svg.png\")\n          }\n        />\n      </div>\n      <div className=\"author\">\n        <span>\n          {article.author} in {article.topic}\n          <br />\n          {Moment(article.created_at, \"YYYY-MM-DD-Thh:mm:ss\").fromNow()}\n        </span>\n      </div>\n      <div className=\"topic\">\n        <span />\n      </div>\n      <div className=\"title\">\n        {full ? (\n          <span>{article.title}</span>\n        ) : (\n          <Link to={`/articles/${article.article_id}`}>{article.title}</Link>\n        )}\n      </div>\n      <div className=\"Votes\">\n        <Votes votes={article.votes} article_id={article.article_id} />\n      </div>\n      {full && (\n        <div className=\"Body\">\n          <p>{article.body}</p>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Article;\n","import React from \"react\";\nimport Article from \"./Article\";\nimport \"../styles/ArticleList.css\";\n\nconst ArticleList = ({ articles }) => {\n  return (\n    <ul>\n      {articles.map(article => {\n        return (\n          <li key={article.article_id}>\n            <Article article={article} />\n          </li>\n        );\n      })}\n    </ul>\n  );\n};\n\nexport default ArticleList;\n","import React from \"react\";\nimport Dropdown from \"./Dropdown\";\nimport \"../styles/ContentOptions.css\";\n\nconst ContentOptions = ({\n  handler,\n  sort_by,\n  order,\n  sortOptions,\n  orderOptions\n}) => {\n  const getOptionName = (slug, options) => {\n    return options.reduce((name, option) => {\n      return option.value === slug ? option.name : name;\n    }, \"\");\n  };\n\n  return (\n    <div className=\"ContentOptions\">\n      <Dropdown\n        handler={handler}\n        trayOptions={sortOptions}\n        title=\"Sort By: \"\n        selected={getOptionName(sort_by, sortOptions)}\n        field=\"sort_by\"\n      />\n      <Dropdown\n        handler={handler}\n        trayOptions={orderOptions}\n        title=\"Order: \"\n        selected={getOptionName(order, orderOptions)}\n        field=\"order\"\n      />\n    </div>\n  );\n};\n\nexport default ContentOptions;\n","import React, { Component } from \"react\";\nimport ArticleList from \"./ArticleList\";\nimport { getArticles } from \"../api\";\nimport { throttle } from \"lodash\";\nimport ContentOptions from \"./ContentOptions\";\n\nclass Home extends Component {\n  state = {\n    articles: [],\n    sort_by: \"created_at\",\n    order: \"desc\",\n    page: 1,\n    topic: null,\n    hasAllArticles: false\n  };\n\n  sortOptions = [\n    { value: \"title\", name: \"Title\" },\n    { value: \"articles.username\", name: \"User\" },\n    { value: \"topic\", name: \"Topic\" },\n    { value: \"created_at\", name: \"Date\" },\n    { value: \"votes\", name: \"Votes\" },\n    { value: \"comment_count\", name: \"Comments\" }\n  ];\n\n  orderOptions = [\n    { value: \"asc\", name: \"Ascending\" },\n    { value: \"desc\", name: \"Descending\" }\n  ];\n\n  componentDidMount() {\n    const { sort_by } = this.state;\n    getArticles(sort_by).then(articles => this.setState({ articles }));\n    this.addScrollEventListener();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const { page, hasAllArticles, sort_by, order } = this.state;\n    const topicChange = false; //no topic functionality yet\n    const pageChange = prevState.page !== page;\n    const sortChange = prevState.sort_by !== sort_by;\n    const orderChange = prevState.order !== order;\n\n    if (\n      ((topicChange || pageChange) && !hasAllArticles) ||\n      sortChange ||\n      orderChange\n    ) {\n      this.fetchArticles();\n    }\n  }\n\n  fetchArticles = () => {\n    const { sort_by, order, page } = this.state;\n\n    getArticles({ sort_by, order, p: page })\n      .then(newArticles => {\n        this.setState(({ page, articles }) => ({\n          articles: page === 1 ? newArticles : [...articles, ...newArticles],\n          isLoading: false\n        }));\n      })\n      .catch(err => {\n        if (err.response.status === 404) {\n          this.setState(({ page }) => {\n            return { hasAllArticles: true, page: page - 1 };\n          });\n        }\n      });\n  };\n\n  addScrollEventListener() {\n    document\n      .querySelector(\".ArticleList\")\n      .addEventListener(\"scroll\", this.handleScroll);\n  }\n\n  handleScroll = throttle(event => {\n    const { clientHeight, scrollTop, scrollHeight } = event.target;\n    const distanceFromBottom = scrollHeight - (clientHeight + scrollTop);\n    if (distanceFromBottom < 150) {\n      this.setState(({ page }) => ({ page: page + 1 }));\n    }\n  }, 1000);\n\n  updateContentOptions = ({ field, value }) => {\n    this.setState(prev => {\n      let page = prev.page;\n      let hasAllArticles = prev.hasAllArticles;\n      if (prev[field] !== value) {\n        page = 1;\n        hasAllArticles = false;\n      }\n      return { [field]: value, page, hasAllArticles };\n    });\n  };\n\n  render() {\n    const { articles, sort_by, order } = this.state;\n    return (\n      <div className=\"ArticleList\">\n        <ContentOptions\n          handler={this.updateContentOptions}\n          sort_by={sort_by}\n          order={order}\n          sortOptions={this.sortOptions}\n          orderOptions={this.orderOptions}\n        />\n        <ArticleList articles={articles} />\n      </div>\n    );\n  }\n}\n\nexport default Home;\n","import React from \"react\";\nimport \"../styles/NoMatch.css\";\n\nconst NoMatch = () => {\n  return (\n    <div className=\"NoMatch\">\n      <p>Page not found!</p>\n    </div>\n  );\n};\n\nexport default NoMatch;\n","import React from \"react\";\nimport \"../styles/Comment.css\";\nimport Moment from \"moment\";\nimport Votes from \"./Votes\";\n\nconst Comment = ({ comment, article_id }) => {\n  return (\n    <div className=\"Comment\">\n      <div className=\"avatar\">\n        <img\n          alt={comment.author}\n          src={comment.avatar_url}\n          onError={e =>\n            (e.target.src =\n              \"https://upload.wikimedia.org/wikipedia/commons/thumb/e/e0/SNice.svg/220px-SNice.svg.png\")\n          }\n        />\n      </div>\n      <div className=\"author\">\n        <span>\n          {comment.author}\n          <br />\n          {Moment(comment.created_at, \"YYYY-MM-DD-Thh:mm:ss\").fromNow()}\n        </span>\n      </div>\n      <div className=\"body\">\n        <p>{comment.body}</p>\n      </div>\n      <div className=\"Votes\">\n        <Votes\n          votes={comment.votes}\n          article_id={article_id}\n          comment_id={comment.comment_id}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default Comment;\n","import React, { Component } from \"react\";\nimport { Link } from \"@reach/router\";\nimport \"../styles/NewArticle.css\";\nimport { postComment } from \"../api\";\n\nclass NewComment extends Component {\n  state = {\n    body: \"\"\n  };\n\n  handleSubmit = event => {\n    event.preventDefault();\n    const { body } = this.state;\n    const { user, article_id } = this.props;\n    postComment(article_id, user.username, body).then(() =>\n      this.props.handler()\n    );\n  };\n\n  handleChange = event => {\n    this.setState({ body: event.target.value });\n  };\n\n  render() {\n    const { user } = this.props;\n    const { isLoading } = this.state;\n    if (!user) {\n      return (\n        <div className=\"NewArticle\">\n          <Link to=\"/login\">Please login first.</Link>\n        </div>\n      );\n    }\n    if (isLoading) {\n      return <p>Loading...</p>;\n    }\n    return (\n      <div className=\"NewArticle\">\n        <form className=\"articleForm\" onSubmit={this.handleSubmit}>\n          <textarea\n            className=\"articleTextarea\"\n            placeholder=\"Say something!\"\n            onChange={this.handleChange}\n            value={this.state.body}\n          />\n          <br />\n          <input type=\"submit\" value=\"Comment\" />\n        </form>\n      </div>\n    );\n  }\n}\n\nexport default NewComment;\n","import React, { Component } from \"react\";\nimport Article from \"./Article\";\nimport Comment from \"./Comment\";\nimport NewComment from \"./NewComment\";\nimport { getArticleById, getCommentsByArticleId } from \"../api\";\nimport ContentOptions from \"./ContentOptions\";\nimport { throttle } from \"lodash\";\nimport \"../styles/ArticlePage.css\";\n\nclass ArticlePage extends Component {\n  state = {\n    article: null,\n    comments: null,\n    isLoading: true,\n    hasError: false,\n    sort_by: \"created_at\",\n    order: \"desc\",\n    page: 1,\n    hasAllComments: false\n  };\n\n  sortOptions = [\n    { value: \"created_at\", name: \"Date\" },\n    { value: \"votes\", name: \"Votes\" },\n    { value: \"comments.username\", name: \"User\" }\n  ];\n\n  orderOptions = [\n    { value: \"asc\", name: \"Ascending\" },\n    { value: \"desc\", name: \"Descending\" }\n  ];\n\n  componentDidMount() {\n    const { id } = this.props;\n    if (!this.state.article) {\n      getArticleById(id)\n        .then(article => {\n          this.setState({ article });\n        })\n        .then(() => getCommentsByArticleId(id))\n        .then(comments => {\n          this.setState({ comments, isLoading: false });\n        })\n        .catch(err => this.setState({ hasError: true }));\n    }\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const { page, hasAllComments, sort_by, order, isLoading } = this.state;\n    const pageChange = prevState.page !== page;\n    const sortChange = prevState.sort_by !== sort_by;\n    const orderChange = prevState.order !== order;\n\n    if ((pageChange && !hasAllComments) || sortChange || orderChange) {\n      this.fetchComments();\n    }\n\n    if (prevState.isLoading === true && isLoading === false) {\n      this.addScrollEventListener();\n    }\n  }\n\n  fetchComments = () => {\n    const { sort_by, order, page } = this.state;\n    const { id } = this.props;\n    getCommentsByArticleId(id, { sort_by, order, p: page })\n      .then(newComments => {\n        this.setState(({ page, comments }) => ({\n          comments: page === 1 ? newComments : [...comments, ...newComments],\n          isLoading: false\n        }));\n      })\n      .catch(err => {\n        if (err.response.status === 404) {\n          this.setState(({ page }) => {\n            return { hasAllComments: true, page: page - 1 };\n          });\n        }\n      });\n  };\n\n  addScrollEventListener() {\n    document\n      .querySelector(\".ArticlePage\")\n      .addEventListener(\"scroll\", this.handleScroll);\n  }\n\n  handleNewComment = () => {\n    this.setState({ page: 1, comments: null, isLoading: true }, () =>\n      this.fetchComments()\n    );\n  };\n\n  handleScroll = throttle(event => {\n    const { clientHeight, scrollTop, scrollHeight } = event.target;\n    const distanceFromBottom = scrollHeight - (clientHeight + scrollTop);\n    if (distanceFromBottom < 150) {\n      this.setState(({ page }) => ({ page: ++page }));\n    }\n  }, 1000);\n\n  updateContentOptions = ({ field, value }) => {\n    this.setState(prev => {\n      let page = prev.page;\n      let hasAllComments = prev.hasAllComments;\n      if (prev[field] !== value) {\n        page = 1;\n        hasAllComments = false;\n      }\n      return { [field]: value, page, hasAllComments };\n    });\n  };\n\n  render() {\n    const {\n      article,\n      comments,\n      isLoading,\n      hasError,\n      sort_by,\n      order\n    } = this.state;\n    if (hasError) {\n      return <p>Something went wrong...</p>;\n    }\n    if (isLoading) return <p>Loading...</p>;\n    return (\n      <div className=\"ArticlePage\">\n        <Article key={article.title} article={article} full={true} />\n        <div>\n          <NewComment\n            user={this.props.user}\n            article_id={this.props.id}\n            handler={this.handleNewComment}\n          />\n        </div>\n        <div className=\"CommentsHeader\">\n          <br />\n          <h3>Comments</h3>\n          <br />\n        </div>\n        <ContentOptions\n          handler={this.updateContentOptions}\n          sort_by={sort_by}\n          order={order}\n          sortOptions={this.sortOptions}\n          orderOptions={this.orderOptions}\n        />\n        <div className=\"CommentList\">\n          {comments.map(comment => (\n            <Comment\n              key={comment.comment_id}\n              comment={comment}\n              article_id={article.article_id}\n            />\n          ))}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default ArticlePage;\n","import React, { Component } from \"react\";\nimport { Link, navigate } from \"@reach/router\";\nimport \"../styles/NewArticle.css\";\nimport { getTopics, postArticle } from \"../api\";\n\nclass NewArticle extends Component {\n  state = {\n    topics: null,\n    isLoading: true,\n    topic: \"\",\n    title: \"\",\n    body: \"\"\n  };\n\n  componentDidMount() {\n    getTopics().then(topics => this.setState({ topics, isLoading: false }));\n  }\n\n  handleSubmit = event => {\n    event.preventDefault();\n    const { topic, title, body } = this.state;\n    const { user } = this.props;\n    console.log(this.state);\n    postArticle(topic, title, body, user.username).then(article => {\n      console.log(\"navigating away!\");\n      navigate(\"/articles/\" + article.article_id);\n    });\n  };\n\n  handleChange = event => {\n    this.setState({ [event.target.name]: event.target.value });\n  };\n\n  render() {\n    const { user } = this.props;\n    const { isLoading, topics } = this.state;\n    if (!user) {\n      return (\n        <div className=\"NewArticle\">\n          <Link to=\"/login\">Please login first.</Link>\n        </div>\n      );\n    }\n    if (isLoading) {\n      return <p>Loading...</p>;\n    }\n    return (\n      <div className=\"NewArticle\">\n        <p>New Article</p>\n        <form className=\"articleForm\" onSubmit={this.handleSubmit}>\n          <input\n            onChange={this.handleChange}\n            type=\"text\"\n            placeholder=\"Title\"\n            className=\"titleInput\"\n            name=\"title\"\n            value={this.state.Title}\n          />\n          <br />\n          <textarea\n            className=\"articleTextarea\"\n            placeholder=\"Say something!\"\n            name=\"body\"\n            onChange={this.handleChange}\n            value={this.state.Body}\n          />\n          <br />\n          <select\n            name=\"topic\"\n            onChange={this.handleChange}\n            value={this.state.Topic}\n            defaultValue=\"Topic\"\n          >\n            <option disabled hidden>\n              Topic\n            </option>{\" \"}\n            {topics.map(topic => (\n              <option key={topic.slug} value={topic.slug}>\n                {topic.slug}\n              </option>\n            ))}\n          </select>\n          <input type=\"submit\" value=\"Post\" />\n        </form>\n      </div>\n    );\n  }\n}\n\nexport default NewArticle;\n","import React, { Component } from \"react\";\nimport { Router, navigate } from \"@reach/router\";\nimport \"./styles/App.css\";\nimport \"./styles/Router.css\";\nimport Auth from \"./components/Auth\";\nimport Navbar from \"./components/Navbar\";\nimport Home from \"./components/Home\";\nimport NoMatch from \"./components/NoMatch\";\nimport ArticlePage from \"./components/ArticlePage\";\nimport NewArticle from \"./components/NewArticle\";\nimport { getUserByUsername } from \"./api\";\n\nclass App extends Component {\n  state = {\n    user: null,\n    page: \"Home\"\n  };\n\n  navOptions = [\n    { value: \"/\", name: \"Home\" },\n    { value: \"/login\", name: \"Login\" },\n    { value: \"/article/new\", name: \"New Article\" }\n  ];\n\n  navRef = {\n    \"/\": \"Home\",\n    \"/login\": \"Login\",\n    \"/article/new\": \"New Article\"\n  };\n\n  componentDidMount() {\n    const retrievedState = localStorage.getItem(\"state\");\n    if (retrievedState) {\n      this.setState(JSON.parse(retrievedState));\n    }\n  }\n\n  componentDidUpdate() {\n    this.handleSave();\n  }\n\n  handleSave = () => {\n    localStorage.setItem(\"state\", JSON.stringify(this.state));\n  };\n\n  setUser = username => {\n    return getUserByUsername(username).then(user => this.setState({ user }));\n  };\n\n  handleNavbar = ({ field, value, name }) => {\n    this.setState({ page: name });\n    navigate(value);\n  };\n\n  render() {\n    const { user } = this.state;\n    return (\n      <div className=\"App\">\n        <Navbar\n          user={user}\n          navOptions={this.navOptions}\n          handler={this.handleNavbar}\n          selected={this.navRef[window.location.pathname]}\n        />\n        <Router className=\"Router\">\n          <Auth\n            path=\"/login\"\n            login={this.setUser}\n            logout={() => this.setState({ user: null })}\n            user={this.state.user}\n          />\n          <Home path=\"/\" />\n          <ArticlePage path=\"/articles/:id\" user={user} />\n          <NewArticle path=\"/article/new\" user={user} />\n          <NoMatch default />\n        </Router>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}